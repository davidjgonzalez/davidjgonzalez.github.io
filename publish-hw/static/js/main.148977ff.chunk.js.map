{"version":3,"sources":["theme.js","components/aem/core/responsive-grid.js","components/aem/core/v1-container.js","components/aem/core/v1-content-fragment-grid.js","components/aem/core/v1-content-fragment.js","components/aem/core/v1-experience-fragment.js","components/aem/core/v1-teaser.js","components/aem/core/v2-image.js","components/aem/core/v2-text.js","components/aem/core/v2-title.js","components/aem/wknd/container.js","components/aem/wknd/content-fragment.js","components/aem/wknd/experience-fragment.js","components/aem/wknd/teaser.js","components/aem/wknd/image.js","components/aem/wknd/text.js","components/aem/wknd/title.js","screens/Error.js","utils/Externalizer.js","api/useGraphQL.js","api/queries.js","utils/getContentPaths.js","utils/getRemoteSite.js","components/SearchByCategory.js","utils/getCategoriesFromData.js","utils/sanitizeActivity.js","utils/getCategoryItemsByKey.js","utils/RemoteSpaModelClient.js","utils/InitModelManager.js","screens/Adventures.js","components/Image.js","utils/getRemoteImageSrc.js","screens/AdventureDetail.js","screens/Index.js","screens/Magazine.js","screens/MagazineDetail.js","screens/Settings.js","components/TabBar.js","App.js","index.js"],"names":["Theme","primary","accent","background","detailBackground","surface","error","text","detailText","onSurface","disabled","placeholder","backdrop","notification","RESOURCE_TYPE","EditConfig","emptyLabel","isEmpty","props","cqItemsOrder","length","resourceType","MapTo","ResponsiveGrid","AEMResponsiveGrid","withMappable","ContainerV1","ContainerV1IsEmptyFn","ContentFragment","html","__html","key","fragmentGrid","this","includes","cqItems","itemProps","Utils","modelToProps","itemComponent","ComponentMapping","get","cqType","connectComponentWithItem","ChildComponent","itemKey","itemPath","getItemPath","cqPath","isInEditor","containerProps","getItemComponentProps","item","className","componentProperties","id","model","JSON","stringify","dataLayer","title","paragraphs","map","paragraph","Fragment","getFragmentGrid","dangerouslySetInnerHTML","getHTML","ContentFragmentV1","ContentFragmentV1IsEmptyFn","TeaserV1IsEmptyFn","TeaserV1","ImageV2IsEmptyFn","ImageV2","V2Image","TextV2","TextV2IsEmptyFn","TitleV2IsEmptyFn","TitleV2","V2Title","GraphQLSetupError","GlobalEndpointError","ErrorScreen","style","styles","pre","a","href","e","border","borderRadius","padding","width","whiteSpace","color","externalizePaths","json","acceptsFn","rewriteFn","value","_processModelJson","acceptContent","match","jsonObject","Object","keys","forEach","propertyName","AEMHeadless","require","process","REACT_APP_HOST_URI","REACT_APP_GRAPHQL_ENDPOINT","REACT_APP_AUTHORIZATION","useGraphQL","query","path","useState","graphQLData","setGraphQLData","errors","setErrors","useEffect","config","serviceURL","endpoint","auth","split","sdk","runQuery","bind","runPersistedQuery","then","data","message","join","mapErrors","catch","defaultSite","defaultContentPath","pathname","window","location","startsWith","endsWith","replace","localStorage","getItem","setItem","contentPath","site","spaSiteTemplateName","osgiSiteConfig","getRemoteSite","spaSites","fetch","mode","response","content","sites","filter","i","rawData","hasOwnProperty","siteTemplatePath","push","console","log","SearchByCategory","selectedActivity","setSelectedActivity","categories","setCategories","categoryItems","setCategoryItems","adventureList","items","adventureActivity","activity","toLowerCase","sanitizeActivity","miscellaneous","getCategoriesFromData","index","category","selectedClassName","onClick","getCategoryItemsByKey","src","adventurePrimaryImage","_path","alt","adventureTitle","to","RemoteSpaModelClient","aemHost","authorization","routeToAemPathFn","pathRewriteAcceptsFn","pathRewriteFn","route","b","c","params","Promise","reject","Error","url","apiHost","_getHeaders","headers","status","Headers","append","credentials","_getAccessToken","accessToken","devToken","basic","user","password","btoa","serviceCredentials","integration","clientId","technicalAccount","technicalAccountId","orgId","org","clientSecret","privateKey","metaScopes","metascopes","ims","imsEndpoint","access_token","ModelClient","initModelManager","aemAuthorization","ModelManager","initializeAsync","modelClient","_transformRoute","_rewriteContentPaths","originalValue","substring","AEM_CONTENT_PREFIX","Adventures","pagePath","container","searchBox","homepageHeroImage","homepageHeroTitleSearch","homepageHeroTitle","homepageHeroSearch","searchByCategory","height","minHeight","position","overflow","searchResults","homepageHero","flex","top","left","right","marginTop","textAlign","zIndex","bottom","gridArea","alignSelf","justifySelf","boxShadow","Image","imagePath","imgSrc","imageContainer","image","paddingTop","maxWidth","objectFit","AdventureDetail","useParams","hasFetched","setHasFetched","adventureDetailQuery","URLSearchParams","useLocation","search","headerContainer","history","back","size","titleSkeleton","adventureByPath","adventure","descriptionJSON","adventureDescription","adventureDetails","adventureType","adventureTripLength","adventureGroupSize","adventureDifficulty","adventurePrice","description","adventureDetailsKey","adventureDetailsValue","node","Element","nodeType","paddingLeft","fontSize","textTransform","margin","backgroundColor","display","flexDirection","alignItems","gap","gridTemplateColumns","marginBottom","fontWeight","Index","adventureListContainer","overflowX","Magazine","pageTitle","adventureCard","MagazineDetail","headerWrapper","featuredImage","contentStyles","Settings","fetchedSpaSites","setFetchedSpaSites","currentSite","setCurrentSite","setSpaSites","getData","getContentPath","selectContainer","select","onChange","target","reload","explanation","justifyContent","TabBar","tabIconSize","isHomeSelected","isAdventuresSelected","isMagazineSelected","isSettingsSelected","getTabStyle","isSelected","tab","tabsContainer","tabs","tabText","listStyle","textDecoration","fontFamily","App","transformRoute","PathUtils","toAEMPath","AemSpaRouter","BrowserRouter","HashRouter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.148977ff.chunk.js","sourcesContent":["export const Theme = {\n  dark: false,\n  roundness: 0,\n  colors: {\n    primary: \"#202020\",\n    accent: \"#FFEB00\",\n    background: \"#202020\",\n    detailBackground: \"#fff\",\n    surface: \"#202020\",\n    error: '#B00020',\n    text: \"#fff\",\n    detailText: \"#202020\",\n    onSurface: '#000000',\n    disabled: \"rgb(255, 69, 58)\",\n    placeholder: \"rgb(255, 69, 58)\",\n    backdrop: \"rgb(255, 69, 58)\",\n    notification: \"rgb(255, 69, 58)\",\n  },\n  animation: {\n    scale: 1.0,\n  },\n};\n","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ResponsiveGrid } from \"@adobe/aem-react-editable-components\";\nimport \"../aem-responsive-grid.css\";\n\n\nconst RESOURCE_TYPE = \"wcm/foundation/components/responsivegrid\";\nconst EditConfig = {\n  emptyLabel: \"Layout Container\",\n  isEmpty: (props) => props.cqItemsOrder == null || props.cqItemsOrder.length === 0,\n  resourceType: RESOURCE_TYPE\n};\n\nMapTo(RESOURCE_TYPE)(ResponsiveGrid, EditConfig);\nexport const AEMResponsiveGrid = withMappable(ResponsiveGrid, EditConfig);","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ContainerV1, ContainerV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa\"\nimport \"../aem-responsive-grid.css\";\n\nMapTo(\"core/wcm/components/container/v1/container\")(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });\nexport const V1Container = withMappable(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ContainerV1, ContainerV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa\"\nimport \"../aem-responsive-grid.css\";\n\nMapTo(\"dam/cfm/components/grid\")(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });\nexport const V1ContentFragmentGrid = withMappable(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });","import React from 'react';\nimport { withMappable, MapTo, Utils, ComponentMapping } from '@adobe/aem-react-editable-components';\nimport { ContentFragmentV1, ContentFragmentV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa/dist/container/contentfragment/v1\"\nimport \"../aem-content-fragment.css\"\n\nclass ContentFragment extends ContentFragmentV1 {\n\n  getHTML(html) {\n    return { __html: html }\n  }\n\n  getFragmentGrid(key) {\n    let fragmentGrid = false;\n    if (this.props.cqItemsOrder.includes(key) && this.props.cqItems[key]) {\n      const itemProps = Utils.modelToProps(this.props.cqItems[key]);\n      if (itemProps) {\n        const itemComponent = ComponentMapping.get(itemProps.cqType);\n        if (itemComponent) {\n          fragmentGrid = this.connectComponentWithItem(itemComponent, itemProps, key);\n        }\n      }\n    }\n\n    return fragmentGrid;\n  }\n\n  connectComponentWithItem(ChildComponent, itemProps, itemKey) {\n    const itemPath = this.getItemPath(itemKey);\n\n    return <ChildComponent {...itemProps}\n      key={`${itemKey}-${itemPath}}`}\n      cqPath={itemPath}\n      isInEditor={this.props.isInEditor}\n      containerProps={this.getItemComponentProps(itemProps, itemKey, itemPath)} />;\n  }\n\n  getItemPath(itemKey) {\n    return (this.props && this.props.cqPath) ? (this.props.cqPath + '/' + itemKey) : itemKey;\n  }\n\n  getItemComponentProps(item, itemKey, itemPath) {\n    return {};\n  }\n\n  render() {\n    return (\n      <div className={`contentfragment ${this.props.componentProperties.containerProps.className}`}>\n        <article\n          id={this.props.id}\n          className={`cmp-contentfragment`}\n          data-cmp-contentfragment-model={this.props.model}\n          data-cmp-data-layer={JSON.stringify(this.props.dataLayer)}>\n          <h3 className=\"cmp-contentfragment__title\">{this.props.title}</h3>\n          <div className=\"cmp-contentfragment__elements\">\n            {this.props.paragraphs && this.props.paragraphs.map((paragraph, key) => (\n              <React.Fragment key={key}>\n                {this.getFragmentGrid(`par${key}`)}\n                <div key={key} dangerouslySetInnerHTML={this.getHTML(paragraph)} />\n              </React.Fragment>\n            ))}\n          </div>\n        </article>\n      </div>\n    )\n  }\n}\n\nMapTo(\"core/wcm/components/contentfragment/v1/contentfragment\")(ContentFragment, { isEmpty: ContentFragmentV1IsEmptyFn });\nexport const V1ContentFragment = withMappable(ContentFragment, { isEmpty: ContentFragmentV1IsEmptyFn });\n","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ContainerV1, ContainerV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa\"\n\nconst RESOURCE_TYPE = \"core/wcm/components/experiencefragment/v1/experiencefragment\";\nconst EditConfig = {\n  emptyLabel: \"Experience Fragment\",\n  isEmpty: ContainerV1IsEmptyFn,\n  resourceType: RESOURCE_TYPE\n};\n\nMapTo(RESOURCE_TYPE)(ContainerV1, EditConfig);\nexport const V1ExperienceFragment = withMappable(ContainerV1, EditConfig); \n","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TeaserV1, TeaserV1IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nconst RESOURCE_TYPE = \"core/wcm/components/teaser/v1/teaser\";\nconst EditConfig = {\n  emptyLabel: \"Teaser\",\n  isEmpty: TeaserV1IsEmptyFn,\n  resourceType: RESOURCE_TYPE\n};\n\nMapTo(RESOURCE_TYPE)(TeaserV1, EditConfig);\nexport const V1Teaser = withMappable(TeaserV1, EditConfig); ","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ImageV2, ImageV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nconst RESOURCE_TYPE = \"core/wcm/components/image/v2/image\";\nconst EditConfig = {\n  emptyLabel: \"Image\",\n  isEmpty: ImageV2IsEmptyFn,\n  resourceType: RESOURCE_TYPE\n};\n\nMapTo(RESOURCE_TYPE)(ImageV2, EditConfig);\nexport const V2Image = withMappable(ImageV2, EditConfig);","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TextV2, TextV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nMapTo(\"core/wcm/components/text/v2/text\")(TextV2, { isEmpty: TextV2IsEmptyFn });\nexport const V2Text = withMappable(TextV2, { isEmpty: TextV2IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TitleV2, TitleV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nconst RESOURCE_TYPE = \"core/wcm/components/title/v2/title\"\nconst EditConfig = {\n  emptyLabel: \"Title\",\n  isEmpty: TitleV2IsEmptyFn,\n  resourceType: RESOURCE_TYPE\n};\n\nMapTo(RESOURCE_TYPE)(TitleV2, EditConfig);\nexport const V2Title = withMappable(TitleV2, EditConfig); ","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ContainerV1, ContainerV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa\"\nimport \"../aem-responsive-grid.css\";\n\nMapTo(\"wknd/components/container\")(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });\nexport const WKNDContainer = withMappable(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });\n","import React from 'react';\nimport { withMappable, MapTo, Utils, ComponentMapping } from '@adobe/aem-react-editable-components';\nimport { ContentFragmentV1, ContentFragmentV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa/dist/container/contentfragment/v1\"\nimport \"../aem-content-fragment.css\"\n\nclass ContentFragment extends ContentFragmentV1 {\n\n  getHTML(html) {\n    return { __html: html }\n  }\n\n  getFragmentGrid(key) {\n    let fragmentGrid = false;\n    if (this.props.cqItemsOrder.includes(key) && this.props.cqItems[key]) {\n      const itemProps = Utils.modelToProps(this.props.cqItems[key]);\n      if (itemProps) {\n        const itemComponent = ComponentMapping.get(itemProps.cqType);\n        if (itemComponent) {\n          fragmentGrid = this.connectComponentWithItem(itemComponent, itemProps, key);\n        }\n      }\n    }\n\n    return fragmentGrid;\n  }\n\n  connectComponentWithItem(ChildComponent, itemProps, itemKey) {\n    const itemPath = this.getItemPath(itemKey);\n\n    return <ChildComponent {...itemProps}\n      key={`${itemKey}-${itemPath}}`}\n      cqPath={itemPath}\n      isInEditor={this.props.isInEditor}\n      containerProps={this.getItemComponentProps(itemProps, itemKey, itemPath)} />;\n  }\n\n  getItemPath(itemKey) {\n    return (this.props && this.props.cqPath) ? (this.props.cqPath + '/' + itemKey) : itemKey;\n  }\n\n  getItemComponentProps(item, itemKey, itemPath) {\n    return {};\n  }\n\n  render() {\n    return (\n      <div className={`contentfragment ${this.props.componentProperties.containerProps.className}`}>\n        <article\n          id={this.props.id}\n          className={`cmp-contentfragment`}\n          data-cmp-contentfragment-model={this.props.model}\n          data-cmp-data-layer={JSON.stringify(this.props.dataLayer)}>\n          <h3 className=\"cmp-contentfragment__title\">{this.props.title}</h3>\n          <div className=\"cmp-contentfragment__elements\">\n            {this.props.paragraphs && this.props.paragraphs.map((paragraph, key) => (\n              <React.Fragment key={key}>\n                {this.getFragmentGrid(`par${key}`)}\n                <div key={key} dangerouslySetInnerHTML={this.getHTML(paragraph)} />\n              </React.Fragment>\n            ))}\n          </div>\n        </article>\n      </div>\n    )\n  }\n}\n\nMapTo(\"wknd/components/contentfragment\")(ContentFragment, { isEmpty: ContentFragmentV1IsEmptyFn });\nexport const WKNDContentFragment = withMappable(ContentFragment, { isEmpty: ContentFragmentV1IsEmptyFn });\n","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ContainerV1, ContainerV1IsEmptyFn } from \"@adobe/aem-core-components-react-spa\"\n\nMapTo(\"wknd/components/experiencefragment\")(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });\nexport const WKNDExperienceFragment = withMappable(ContainerV1, { isEmpty: ContainerV1IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TeaserV1, TeaserV1IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nMapTo(\"wknd/components/teaser\")(TeaserV1, { isEmpty: TeaserV1IsEmptyFn });\nexport const WKNDTeaser = withMappable(TeaserV1, { isEmpty: TeaserV1IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { ImageV2, ImageV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nMapTo(\"wknd/components/image\")(ImageV2, { isEmpty: ImageV2IsEmptyFn });\nexport const WKNDImage = withMappable(ImageV2, { isEmpty: ImageV2IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TextV2, TextV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nMapTo(\"wknd/components/text\")(TextV2, { isEmpty: TextV2IsEmptyFn });\nexport const WKNDText = withMappable(TextV2, { isEmpty: TextV2IsEmptyFn });","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\nimport { TitleV2, TitleV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\n\nMapTo(\"wknd/components/title\")(TitleV2, { isEmpty: TitleV2IsEmptyFn });\nexport const WKNDTitle = withMappable(TitleV2, { isEmpty: TitleV2IsEmptyFn });","import { Theme } from \"../theme\";\n\nconst GraphQLSetupError = `Validation error of type FieldUndefined: Field 'adventureList' in type 'QueryType' is undefined @ 'adventureList'`;\nconst setupErrorMessage = `The Adventures, Articles Content Fragment Models are either not created and installed, or need to be resaved.`\nconst GlobalEndpointError = `Unexpected token < in JSON at position 0`;\nconst globalEndpointMessage = `The global GraphQL endpoint appears to not exist or not be setup.`\n\nexport default function ErrorScreen({ error }) {\n  try {\n    return (\n      <div className=\"content\">\n        <h1>Error</h1>\n        <pre style={styles.pre}>{error}</pre>\n        {error === GraphQLSetupError && <span>{setupErrorMessage}</span>}\n        {error === GraphQLSetupError && <a style={styles.a} href=\"/libs/dam/cfm/models/console/content/models.html/conf\">Setup Content Fragments</a>}\n\n        {error === GlobalEndpointError && <span>{globalEndpointMessage}</span>}\n        {error === GlobalEndpointError && <a style={styles.a} href=\"/libs/cq/graphql/sites/admin/content/console.html\">Setup Global GraphQL Endpoint</a>}\n      </div>\n    );\n  } catch (e) {\n    return <div>Error with the Error</div>\n  }\n}\n\nconst styles = {\n  pre: {\n    border: \"1px solid rgba(255, 255, 255, .1)\",\n    borderRadius: \"4px\",\n    padding: \"1rem\",\n    width: \"120ch\",\n    whiteSpace: \"normal\",\n  },\n  a: {\n    color: Theme.colors.text\n  }\n}","export const externalizePaths = (json, acceptsFn, rewriteFn) => {\n    if (!acceptsFn) { acceptsFn = function() { return false; }}\n    if (!rewriteFn) { rewriteFn = function(value) { return value; }}\n\n    let data = _processModelJson(json, acceptsFn, rewriteFn);\n\n    return data;\n}\n\nexport const acceptContent = (json, key, value) => {\n    return value.match(/^\\/content\\/([^\\0]*)(\\.jpg|[^\\0]jpeg|[^\\0]png|[^\\0]gif|[^\\0]html)$/i);\n}\n\nconst _processModelJson = (jsonObject, acceptsFn, rewriteFn) => {\n    Object.keys(jsonObject).forEach(function (propertyName) {    \n        if (jsonObject[propertyName] !== null && typeof jsonObject[propertyName] === 'object') {\n            _processModelJson(jsonObject[propertyName], acceptsFn, rewriteFn);\n            return;\n        }\n        \n        if (typeof jsonObject[propertyName] === 'string' && \n                acceptsFn(jsonObject, propertyName, jsonObject[propertyName])) {\n            jsonObject[propertyName] = rewriteFn(jsonObject[propertyName]);\n        }\n    });\n    return jsonObject;\n}\n","/*\nCopyright 2020 Adobe\nAll Rights Reserved.\n\nNOTICE: Adobe permits you to use, modify, and distribute this file in\naccordance with the terms of the Adobe license agreement accompanying\nit.\n*/\nimport { useState, useEffect } from 'react';\nimport { externalizePaths, acceptContent } from '../utils/Externalizer.js';\n\nconst { AEMHeadless } = require('@adobe/aem-headless-client-js')\n\nconst {\n  //REACT_APP_PUBLIC_URI, // http://localhost:3000\n  REACT_APP_HOST_URI, // http://localhost:4502\n  REACT_APP_GRAPHQL_ENDPOINT,\n  REACT_APP_AUTHORIZATION\n} = process.env;\n\n/**\n * Custom React Hook to perform a GraphQL query\n * @param query - GraphQL query\n * @param path - Persistent query path\n */\nexport function useGraphQL(query, path) {\n  let [graphQLData, setGraphQLData] = useState(null);\n  let [errors, setErrors] = useState(null);\n\n  useEffect(() => {\n    const config = {\n      serviceURL: REACT_APP_HOST_URI,\n      endpoint: REACT_APP_GRAPHQL_ENDPOINT,\n    };\n    if (REACT_APP_AUTHORIZATION) config.auth = REACT_APP_AUTHORIZATION.split(\":\");\n\n    const sdk = new AEMHeadless(config);\n    const request = query ? sdk.runQuery.bind(sdk) : sdk.runPersistedQuery.bind(sdk);\n\n    request(query || path)\n      .then(({ data, errors }) => {\n        if (errors) setErrors(mapErrors(errors));\n        if (data) { \n            setGraphQLData(externalizePaths(data, acceptContent, (value) => { return REACT_APP_HOST_URI + value; }));\n        };\n      })\n      .catch((error) => {\n        setErrors(error);\n      });\n  }, [query, path]);\n\n  return { graphQLData, errors }\n}\n\n/**\n * concatenate error messages into a single string.\n * @param {*} errors\n */\nexport function mapErrors(errors) {\n  return errors.map((error) => error.message ? error.message : error).join(\",\");\n}\n","export const adventureListQuery = `{\n  adventureList {\n    items {\n      _path\n      adventureActivity\n      adventureTitle\n      adventurePrimaryImage {\n        ...on ImageRef {\n          _path\n          mimeType\n          width\n          height\n        }\n      }\n    }\n  }\n}`;\n\nexport const adventureDetailQuery = _path => `{\n  adventureByPath (_path: \"${_path}\") {\n    item {\n      _path\n      adventureTitle\n      adventureActivity\n      adventureType\n      adventurePrice\n      adventureTripLength\n      adventureGroupSize\n      adventureDifficulty\n      adventurePrice\n      adventurePrimaryImage {\n        ... on ImageRef {\n          _path\n          mimeType\n          width\n          height\n        }\n      }\n      adventureDescription {\n        html\n        json\n      }\n      adventureItinerary {\n        html\n        json\n      }\n    }\n  }\n}`;","let defaultSite = process.env.REACT_APP_SITE;\nlet defaultContentPath = `/content/${process.env.REACT_APP_SITE}${process.env.REACT_APP_CONTENT_PATH}`;\nlet { pathname } = window.location;\n\n// For use in AEM editor, or when viewing an AEM content page directly\nif (\n  pathname.startsWith(\"/editor.html/content/\") ||\n  (pathname.includes(\"/content/\") && pathname.endsWith(\"/en/index.html\"))\n) {\n\n  defaultSite = pathname.replace(\"/content/\", \"\").replace(\"/en/index.html\", \"\");\n  defaultContentPath = `/content/${defaultSite}/en/index`;\n\n} else {\n  // For use remote use\n  if (window.localStorage.getItem(\"aemGuidesWkndPwa.site\") === null) {\n    window.localStorage.setItem(\"aemGuidesWkndPwa.site\", defaultSite)\n  } else {\n    defaultSite = window.localStorage.getItem(\"aemGuidesWkndPwa.site\");\n  }\n\n  if (window.localStorage.getItem(\"aemGuidesWkndPwa.contentPath\") === null) {\n    window.localStorage.setItem(\"aemGuidesWkndPwa.contentPath\", defaultContentPath)\n  } else {\n    defaultContentPath = window.localStorage.getItem(\"aemGuidesWkndPwa.contentPath\");\n  }\n}\n\nexport const contentPathSuffix = process.env.REACT_APP_CONTENT_PATH;\nexport const contentPath = defaultContentPath;\nexport const site = defaultSite;","const spaSiteTemplateName = \"aem-site-template-wknd-spa\";\nconst osgiSiteConfig = \"com.adobe.aem.wcm.site.manager.config.SiteConfig\";\n\nexport async function getRemoteSite() {\n  try {\n    const spaSites = [];\n    const response = await fetch(`/content.1.json`, { mode: \"no-cors\" });\n    const content = await response.json();\n    const sites = Object.keys(content).filter(key => typeof content[key] === \"object\" && content[key][\"jcr:primaryType\"] === \"cq:Page\");\n\n    for (const i in sites) {\n      try {\n        const response = await fetch(`/conf/${sites[i]}/sling:configs.1.json`);\n        const rawData = await response.json();\n\n        if (await rawData && rawData.hasOwnProperty(osgiSiteConfig)) {\n          const { siteTemplatePath } = rawData[osgiSiteConfig];\n          if (siteTemplatePath && siteTemplatePath.includes(spaSiteTemplateName)) spaSites.push(sites[i]);\n        }\n\n      } catch (e) {\n        console.log(\"Error fetching site conf data\", e);\n      }\n    }\n\n    return spaSites;\n\n  } catch (e) {\n    console.log(\"Error fetching AEM Content\", e);\n    return [];\n  }\n}","import React, { useState } from \"react\"\nimport { Link } from 'react-router-dom';\nimport Error from \"../screens/Error\";\nimport { useGraphQL, adventureListQuery } from \"../api\";\nimport { getCategoriesFromData, getCategoryItemsByKey } from \"../utils\";\nimport \"./SearchByCategory.css\";\n\nexport default function SearchByCategory() {\n\n  const [selectedActivity, setSelectedActivity] = useState(false);\n  const [categories, setCategories] = useState(false);\n  const [categoryItems, setCategoryItems] = useState([]);\n\n  const { graphQLData, errors } = useGraphQL(adventureListQuery);\n\n  if (errors || graphQLData === false) return <Error error={errors} />;\n  if (graphQLData === null) return <div>Loading...</div>;\n\n  if (!categories && graphQLData?.adventureList?.items) {\n    setCategories(getCategoriesFromData(graphQLData.adventureList.items))\n  }\n\n\n  const setCategory = (activity) => {\n    setSelectedActivity(activity);\n    setCategoryItems(getCategoryItemsByKey(graphQLData.adventureList.items, activity))\n  }\n\n  return (\n    <>\n      <div className=\"search-by-category-container\">\n        <ul className=\"search-by-category\">\n          {categories && Object.keys(categories).map((key, index) => {\n            const category = categories[key];\n            const selectedClassName = selectedActivity === category.adventureActivity ? \"selected\" : \"\";\n            return (\n              <li key={key} className=\"search-by-category-item\" onClick={() => setCategory(category.adventureActivity)}>\n                <img\n                  className={`search-by-category-item-image ${selectedClassName}`}\n                  src={category.adventurePrimaryImage._path}\n                  alt={category.adventureTitle}\n                />\n                <p>{category.adventureActivity || \"Miscellaneous\"}</p>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n      <div className=\"search-by-category-container\">\n        <ul className=\"search-by-category\">\n          {categoryItems && categoryItems.map((item, key) => (\n            <li key={key} className=\"search-by-category-item\">\n              <Link to={`/detail?_path=${item._path}`}>\n                <img className=\"search-by-category-item-image\" src={item.adventurePrimaryImage._path} alt={item.adventureTitle} />\n                <p>{item.adventureTitle}</p>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </>\n  )\n}\n","import { sanitizeActivity } from \"./sanitizeActivity\";\n\nexport const getCategoriesFromData = (items) => {\n  let categories = { };\n  items.forEach(item => {\n    if (!item.adventureActivity) categories.miscellaneous = item;\n    else {\n      const activity = sanitizeActivity(item.adventureActivity);\n      if (!categories.hasOwnProperty(activity)) {\n        categories[activity] = item\n      }\n    }\n  })\n\n  return categories;\n}","export const sanitizeActivity = (activity) => activity.toLowerCase().replace(\" \", \"-\");\n","export const getCategoryItemsByKey = (items, activity) => items.filter(item => item.adventureActivity === activity);","import { ModelClient } from '@adobe/aem-spa-page-model-manager';\nimport auth from '@adobe/jwt-auth';\nimport { externalizePaths, acceptImages } from './Externalizer.js';\n\n\n export class RemoteSpaModelClient extends ModelClient {\n     constructor(aemHost, authorization, routeToAemPathFn, pathRewriteAcceptsFn, pathRewriteFn) {\n         super(aemHost);\n         this.authorization = authorization || {};\n         this.routeToAemPathFn = routeToAemPathFn || function(route) { return route; };\n         this.pathRewriteAcceptsFn = pathRewriteAcceptsFn || function(a, b, c) { return false; }\n         this.pathRewriteFn = pathRewriteFn || function(value, params) { return aemHost + value;; }\n     }\n\n     async fetch(path) {\n         if (!path) {\n             return Promise.reject(new Error('Rejected fetching empty path.'));\n         }\n         const url = `${this.apiHost}${this.routeToAemPathFn(path)}`;\n         const headers = await this._getHeaders(this.authorization);\n\n         return fetch(\n             url, \n             {\n                headers: headers \n             }).then((response) => {\n                 if ((response.status >= 200) && (response.status < 300)) {\n                     return response.json().then(data => {\n                        return externalizePaths(data, this.pathRewriteAcceptsFn, this.pathRewriteFn);\n                     })\n                 } else {\n                    return Promise.reject(response) \n                 }\n             }).catch((error) => {\n                 return Promise.reject(error);\n             });\n     }\n\n     async _getHeaders(auth) {\n        let headers = new Headers();\n\n        headers.append('Content-Type', 'application/json');\n\n        if (auth?.credentials) {            \n            const accessToken =  await this._getAccessToken(auth.credentials);\n            headers.append('Authorization', 'Bearer ' + accessToken);\n        } else if (auth?.devToken) {\n            headers.append('Authorization', 'Bearer ' + auth.devToken);\n        } else if (auth?.basic && auth?.basic?.user && auth?.basic?.password) {\n            const user = auth.basic.user;\n            const password = auth.basic.password;\n\n            headers.append('Authorization', 'Basic ' + btoa(user + ':' + password));\n        } \n\n        return headers;\n     }\n\n     async _getAccessToken(credentials) {\n\n        // This is the Service Credentials JSON object that must be exchanged with Adobe IMS for an access token\n        let serviceCredentials = credentials.integration;\n\n        // Use the @adobe/jwt-auth library to pass the service credentials generated a JWT and exchange that with Adobe IMS for an access token.\n        // If other programming languages are used, please see these code samples: https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/JWT/samples/samples.md\n        let { access_token } = await auth({\n            clientId: serviceCredentials.technicalAccount.clientId, // Client Id\n            technicalAccountId: serviceCredentials.id,              // Technical Account Id\n            orgId: serviceCredentials.org,                          // Adobe IMS Org Id\n            clientSecret: serviceCredentials.technicalAccount.clientSecret, // Client Secret\n            privateKey: serviceCredentials.privateKey,              // Private Key to sign the JWT\n            metaScopes: serviceCredentials.metascopes.split(','),   // Meta Scopes defining level of access the access token should provide\n            ims: `https://${serviceCredentials.imsEndpoint}`,       // IMS endpoint used to obtain the access token from\n        });\n\n        return access_token;\n    }\n\n    /*\n    async _prefixPathWithAemHost(json) {\n        return this._processModelJson(await json, this.pathRewriteAcceptsFn, this.pathRewriteFn);\n    }\n\n    _processModelJson(jsonObject, acceptsFn, rewriteFn) {\n        let that = this;\n\n        Object.keys(jsonObject).forEach(function (propertyName) {    \n            if (jsonObject[propertyName] !== null && typeof jsonObject[propertyName] === 'object') {\n                that._processModelJson(jsonObject[propertyName], acceptsFn, rewriteFn);\n                return;\n            }\n            if (typeof jsonObject[propertyName] === 'string' && \n                    acceptsFn(jsonObject, propertyName, jsonObject[propertyName])) {\n                jsonObject[propertyName] = rewriteFn(jsonObject[propertyName]);\n            }\n        });\n        return jsonObject;\n    }*/\n}\n","import { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport { contentPath } from \"../utils\";\nimport { RemoteSpaModelClient } from \"../utils/RemoteSpaModelClient\";\nimport { acceptContent } from \"./Externalizer\";\n\nconst { REACT_APP_AUTHORIZATION, REACT_APP_HOST_URI } = process.env;\n\nexport const initModelManager = (path) => {\n\n    const aemAuthorization = {\n        basic: {\n            user: REACT_APP_AUTHORIZATION?.split(':')[0],\n            password: REACT_APP_AUTHORIZATION?.split(':')[1],\n        }\n    };\n\n    ModelManager.initializeAsync({\n        modelClient: new RemoteSpaModelClient(\n            REACT_APP_HOST_URI,\n            aemAuthorization,\n            _transformRoute,\n            acceptContent,\n            _rewriteContentPaths\n        ), \n        path: path\n    });\n}\n\nfunction _rewriteContentPaths(value) {\n    let originalValue = value;\n    \n    console.log('contentPath:' + contentPath);\n\n    if (value.startsWith(contentPath) && value.match(/^\\/content\\/.*\\.(html)$/)) {\n        // This looks like a React app route\n        value = value.substring((contentPath).length);\n        console.log(`[ ${originalValue} -> ${value} ]`);\n    } else if(value.match(/^\\/content\\/.*\\.(jpg|jpeg|gif|png|wepb)$/)) {\n        // Externalize images\n        value = REACT_APP_HOST_URI + value;\n        console.log(`[ ${originalValue} -> ${value} ]`)\n    } else {\n        console.log(\"No changes requires to content paths: \" + value);\n    }\n\n    return value;\n}\n\nfunction _transformRoute(route) {\n    console.log(\"Starting to process route transform: \" + route);\n\n    const AEM_CONTENT_PREFIX = '/content/wknd-app/en/';\n\n    if (route === process.env.PUBLIC_URL + '.model.json') {\n        route = AEM_CONTENT_PREFIX + 'index.model.json';\n        console.log(\"Route was  \" + process.env.PUBLIC_URL + \".model.json transformed to: \" + route);\n    } else if (route.startsWith(process.env.PUBLIC_URL)) {\n        route = route.replace(process.env.PUBLIC_URL, AEM_CONTENT_PREFIX);\n        console.log(\"Route started with \" + process.env.PUBLIC_URL + \" transformed to: \" + route);\n\n    } else if (!route.startsWith(AEM_CONTENT_PREFIX)) {\n        \n        if (route.startsWith('/')) {\n            route = route.substring(1);\n        }\n\n        route = AEM_CONTENT_PREFIX + route;\n\n        console.log(\"Route did NOT start with \" + AEM_CONTENT_PREFIX + \" transformed to: \" + route);\n    } else {\n        console.log(\"No transformation necessary: \" + route);\n    }\n        \n    return route;\n}","import { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport React from \"react\"\nimport { Theme } from \"../theme\";\nimport { V2Image, V2Title } from \"../components/aem\";\nimport SearchByCategory from \"../components/SearchByCategory\";\nimport { contentPath } from \"../utils\";\nimport { RemoteSpaModelClient } from \"../utils/RemoteSpaModelClient\";\nimport { initModelManager } from \"../utils/InitModelManager\";\n\nconst { REACT_APP_AUTHORIZATION, REACT_APP_HOST_URI } = process.env;\n\nexport default function Adventures() {\n  const pagePath = `${contentPath}/adventures`;\n\n  initModelManager(pagePath);\n\n\n  return (\n    <div className=\"content\" style={styles.container}>\n      <div style={styles.searchBox}>\n        <div style={styles.homepageHeroImage} className=\"homepage-hero-image-wrapper\">\n          <V2Image key=\"search-image\" styles={styles.homepageHeroImage} pagePath={pagePath} itemPath=\"root/image\" />\n        </div>\n        <div style={styles.homepageHeroTitleSearch}>\n          <div style={styles.homepageHeroTitle}>\n            <V2Title key=\"search-title\" styles={styles.homepageHeroTitle} pagePath={pagePath} itemPath=\"root/title\" />\n          </div>\n          <input style={styles.homepageHeroSearch} placeholder=\"Find Your Next Adventure\" />\n        </div>\n      </div>\n      <div style={styles.searchByCategory}>\n        <V2Title key=\"search-title-categories\" styles={styles.homepageHeroTitle} pagePath={pagePath} itemPath=\"root/title-categories\" />\n        <SearchByCategory />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: {},\n  searchBox: {\n    height: \"10rem\",\n    minHeight: \"10rem\",\n    position: \"relative\",\n    overflow: \"hidden\"\n  },\n  searchResults: {\n    padding: \"1rem\"\n  },\n  homepageHero: {\n    flex: 1,\n    position: \"relative\",\n  },\n  homepageHeroTitleSearch: {\n    position: \"absolute\",\n    top: \".5rem\",\n    left: 0,\n    right: 0,\n    marginTop: \".5rem\",\n    textAlign: \"center\",\n    zIndex: 10,\n  },\n  homepageHeroTitle: {\n    color: Theme.colors.background,\n  },\n  homepageHeroImage: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n  homepageHeroSearch: {\n    gridArea: \"overlay\",\n    alignSelf: \"flex-start\",\n    justifySelf: \"center\",\n    padding: \".5rem 1rem\",\n    marginTop: \".25rem\",\n    borderRadius: \"5rem\",\n    border: \"none\",\n    boxShadow: \"0 0 5px rgba(0,0,0,.1)\",\n  },\n  searchByCategory: {\n    padding: \"1rem\",\n  }\n}","import { getRemoteImageSrc } from \"../utils\";\n\nexport default function Image({ imgSrc, title }) {\n\n  return (\n    <div style={styles.imageContainer} className=\"loading-skeleton\">\n      {imgSrc && <img src={getRemoteImageSrc(imgSrc)} style={styles.image} alt={title} />}\n    </div>\n  )\n}\n\nconst styles = {\n  imageContainer: {\n    position: \"relative\",\n    paddingTop: \"55%\",\n    overflow: \"hidden\",\n  },\n  image: {\n    width: \"100%\",\n    maxWidth: \"100%\",\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    objectFit: \"cover\"\n  },\n}","export function getRemoteImageSrc(imagePath) {\n  const { REACT_APP_PUBLIC_URI } = process.env;\n  if (!imagePath) return false;\n  if (!imagePath.startsWith(\"http\")) {\n    imagePath = `${REACT_APP_PUBLIC_URI}${imagePath}`;\n    if (imagePath && imagePath.includes(\"//content\")) imagePath = imagePath.replace(\"//content\", \"/content\");\n  }\n  return imagePath;\n}","import { useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { IoChevronBack } from \"react-icons/io5\";\nimport { useGraphQL, adventureDetailQuery } from \"../api\";\nimport ErrorScreen from \"../screens/Error\";\nimport Image from \"../components/Image\";\nimport { Theme } from \"../theme\";\n\nexport default function AdventureDetail() {\n    const { id } = useParams()\n\n    console.log(\"ADEVNTURE DETAILS: \" + id);\n\n  const [hasFetched, setHasFetched] = useState(false);\n  const query = new URLSearchParams(useLocation().search);\n  const _path = query.get(\"_path\");\n  const { graphQLData, errors } = useGraphQL(adventureDetailQuery(_path));\n\n  // Error State\n  if (errors !== null) {\n    setHasFetched(true);\n    return <ErrorScreen error={errors} />; \n\n    // Loading State\n  } else if (!hasFetched && graphQLData === null) {\n    return (\n      <div className=\"content detail-screen\" style={styles.container}>\n        <div style={styles.headerContainer}>\n          <IoChevronBack onClick={() => window.history.back()} size=\"2rem\" />\n          <div className=\"loading-skeleton\" style={styles.titleSkeleton}></div>\n        </div>\n      </div>\n    )\n\n    // Data Error State\n  } else if (hasFetched && !graphQLData?.adventureByPath?.item) {\n    return <ErrorScreen error=\"There was an error with the returned data.\" />;\n\n    // Default Render view\n  } else if (graphQLData !== null) {\n    if (!hasFetched) setHasFetched(true);\n\n\n    const adventure = graphQLData.adventureByPath.item;\n    const title = adventure.adventureTitle || false;\n    const descriptionJSON = adventure.adventureDescription?.json || false;\n    let imgSrc = adventure.adventurePrimaryImage?._path || false;\n    const adventureDetails = [];\n    if (adventure.adventureActivity) adventureDetails.push({ key: \"Activity\", value: adventure.adventureActivity })\n    if (adventure.adventureType) adventureDetails.push({ key: \"Adventure Type\", value: adventure.adventureType })\n    if (adventure.adventureTripLength) adventureDetails.push({ key: \"Trip Length\", value: adventure.adventureTripLength })\n    if (adventure.adventureGroupSize) adventureDetails.push({ key: \"Group Size\", value: adventure.adventureGroupSize })\n    if (adventure.adventureDifficulty) adventureDetails.push({ key: \"Difficulty\", value: adventure.adventureDifficulty })\n    if (adventure.adventurePrice) adventureDetails.push({ key: \"Activity\", value: adventure.adventurePrice })\n\n    return (\n      <div className=\"content detail-screen\" style={styles.container}>\n        <div style={styles.headerContainer}>\n          <IoChevronBack onClick={() => window.history.back()} size=\"2rem\" />\n          {!title && <div className=\"loading-skeleton\" style={styles.titleSkeleton}></div>}\n          {title && <h1 style={styles.title}>{title}</h1>}\n        </div>\n        <Image imgSrc={imgSrc} alt={title} />\n        <div style={styles.description}>\n          <div style={styles.adventureDetails}>\n            {adventureDetails.map(({ key, value }, index) => (\n              <div key={index}>\n                <span style={styles.adventureDetailsKey}>{key}</span>\n                <p style={styles.adventureDetailsValue}>{value}</p>\n              </div>\n            ))}\n          </div>\n          {descriptionJSON && descriptionJSON.map((node, key) => {\n            const Element = node.nodeType === \"header\" ? `${node.style}` : \"p\";\n            return <Element key={key}>{node.content.map(({ value }) => value)}</Element>\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  container: {\n    flex: 1,\n  },\n  title: {\n    paddingLeft: \".5rem\",\n    fontSize: \"1.5rem\",\n    textTransform: \"uppercase\",\n    maxWidth: \"100%\",\n    margin: 0,\n  },\n  description: {\n    padding: \"1rem\",\n    backgroundColor: Theme.colors.detailBackground,\n    color: Theme.colors.detailText,\n    flex: 1\n  },\n  titleSkeleton: {\n    height: \"2.5rem\",\n    width: \"85%\",\n    margin: \"1rem\"\n  },\n  headerContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    padding: \"1rem 0\",\n    alignItems: \"center\",\n  },\n  adventureDetails: {\n    display: \"grid\",\n    gap: \"1rem\",\n    gridTemplateColumns: \"repeat(3, 1fr)\",\n    marginBottom: \"1rem\",\n  },\n  adventureDetailsKey: {\n    fontSize: \".75rem\"\n  },\n  adventureDetailsValue: {\n    fontWeight: \"700\"\n  },\n}","import { Link } from \"react-router-dom\";\nimport { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport { V2Image, V2Title } from \"../components/aem\";\nimport { Theme } from \"../theme\";\nimport { contentPath } from \"../utils\";\nimport \"./Index.css\";\nimport { RemoteSpaModelClient } from \"../utils/RemoteSpaModelClient\";\nimport { initModelManager } from \"../utils/InitModelManager\";\n\nconst { REACT_APP_AUTHORIZATION, REACT_APP_HOST_URI } = process.env;\n\nexport default function Index() {\n  //ModelManager.initializeAsync(contentPath);\n  const pagePath = `${contentPath}`;\n\n  console.log(REACT_APP_AUTHORIZATION);\n  console.log(REACT_APP_HOST_URI);\n  console.log(contentPath);\n\n    initModelManager(pagePath);\n\n  return (\n    <div className=\"content\" style={styles.container}>\n      <Link to=\"/adventures\" style={styles.homepageHero}>\n        <div\n          style={styles.homepageHeroImage}\n          className=\"homepage-hero-image-wrapper\"\n        >\n          <V2Image\n            key=\"search-image\"\n            styles={styles.homepageHeroImage}\n            pagePath={contentPath}\n            itemPath=\"root/image\"\n          />\n        </div>\n        <div style={styles.homepageHeroTitleSearch}>\n          <div style={styles.homepageHeroTitle}>\n            <V2Title\n              key=\"search-title\"\n              styles={styles.homepageHeroTitle}\n              pagePath={contentPath}\n              itemPath=\"root/title\"\n            />\n          </div>\n          <input\n            style={styles.homepageHeroSearch}\n            placeholder=\"Find Adventures Near You\"\n          />\n        </div>\n      </Link>\n      <Link to=\"/magazine\" style={styles.homepageHero}>\n        <div\n          style={styles.homepageHeroImage}\n          className=\"homepage-hero-image-wrapper\"\n        >\n          <V2Image\n            key=\"featured-article-image\"\n            styles={styles.homepageHeroImage}\n            pagePath={contentPath}\n            itemPath=\"root/image-featured-articles\"\n          />\n        </div>\n        <div style={styles.homepageHeroTitleSearch}>\n          <div\n            style={{\n              ...styles.homepageHeroTitle,\n              textAlign: \"left\",\n              paddingLeft: \"1rem\",\n            }}\n          >\n            <V2Title\n              key=\"featured-article-title\"\n              styles={styles.homepageHeroTitle}\n              pagePath={contentPath}\n              itemPath=\"root/title-featured-articles\"\n            />\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {},\n  homepageHero: {\n    flex: 1,\n    position: \"relative\",\n  },\n  homepageHeroTitleSearch: {\n    position: \"absolute\",\n    top: \".5rem\",\n    left: 0,\n    right: 0,\n    marginTop: \".5rem\",\n    textAlign: \"center\",\n    zIndex: 10,\n  },\n  homepageHeroTitle: {\n    color: Theme.colors.background,\n  },\n  homepageHeroImage: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n  },\n  homepageHeroSearch: {\n    gridArea: \"overlay\",\n    alignSelf: \"flex-start\",\n    justifySelf: \"center\",\n    padding: \".5rem 1rem\",\n    marginTop: \".25rem\",\n    borderRadius: \"5rem\",\n    border: \"none\",\n    boxShadow: \"0 0 5px rgba(0,0,0,.1)\",\n    width: \"14rem\",\n    textAlign: \"center\",\n  },\n  adventureListContainer: {\n    overflow: \"hidden\",\n    flex: 1,\n  },\n  adventureList: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    overflowX: \"auto\",\n  },\n};\n","import { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport { contentPath } from \"../utils\";\nimport { AEMResponsiveGrid, V2Title } from \"../components/aem\";\nimport { RemoteSpaModelClient } from \"../utils/RemoteSpaModelClient\";\nimport { initModelManager } from \"../utils/InitModelManager\";\n\nconst { REACT_APP_AUTHORIZATION, REACT_APP_HOST_URI } = process.env;\n\nexport default function Magazine() {\n  const pagePath = `${contentPath}/magazine`;\n  //ModelManager.initializeAsync(pagePath);\n\n  initModelManager(pagePath);\n\n  return (\n    <div className=\"content\" style={styles.container}>\n      <div style={styles.pageTitle}>\n        <V2Title key=\"title\" pagePath={pagePath} itemPath=\"root/title\" />\n      </div>\n      <AEMResponsiveGrid pagePath={pagePath} itemPath=\"root/responsivegrid\" />\n    </div>\n  )\n}\n\nconst styles = {\n  container: {},\n  pageTitle: {\n    padding: \"1rem\",\n  },\n  adventureCard: {\n    padding: \"1rem\",\n  }\n}\n","import { initModelManager } from \"../utils/InitModelManager\";\n\nimport { useLocation } from \"react-router-dom\";\nimport { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport { IoChevronBack } from \"react-icons/io5\";\nimport { Theme } from \"../theme\";\nimport {\n  AEMResponsiveGrid,\n  V2Image,\n  V2Title,\n} from \"../components/aem\";\n\nexport default function MagazineDetail() {\n\n  const { pathname } = useLocation(); // /content/../magazine/arctic-surfing\n  const pagePath = '/content/wknd-app/en/index' + pathname.split(\".html\")[0];\n  //ModelManager.initializeAsync(pagePath);\n  console.log('page path: ' + pagePath);\n\n  initModelManager(pagePath);\n\n  return (\n    <div className=\"content\" style={styles.container}>\n      <div style={styles.headerWrapper}>\n        <div style={styles.headerContainer}>\n          <IoChevronBack onClick={() => window.history.back()} size=\"2rem\" />\n          <V2Title style={styles.pageTitle} pagePath={pagePath} itemPath=\"root/title\" />\n        </div>\n        <div style={styles.featuredImage}>\n          <V2Image pagePath={pagePath} itemPath=\"root/featured-image\" />\n        </div>\n      </div>\n      <div style={styles.contentStyles}>\n\n        <AEMResponsiveGrid pagePath={pagePath} itemPath=\"root/responsivegrid\" />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: {},\n  pageTitle: {\n    padding: \"1rem\",\n  },\n  featuredImage: {\n    margin: \"1rem\",\n  },\n  contentStyles: {\n    backgroundColor: Theme.colors.detailBackground,\n    color: Theme.colors.detailText,\n    paddingTop: \"1rem\",\n  },\n  adventureCard: {\n    padding: \"1rem\",\n  },\n  titleSkeleton: {\n    height: \"2.5rem\",\n    width: \"85%\",\n    margin: \"1rem\"\n  },\n  headerWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  headerContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    padding: \"1rem 0 0\",\n    alignItems: \"center\",\n  },\n}\n","import { useState, useEffect } from \"react\";\nimport { site, contentPathSuffix, getRemoteSite } from \"../utils\";\n\nexport default function Settings() {\n\n  const placeholder = \"--select-site--\";\n  const [fetchedSpaSites, setFetchedSpaSites] = useState(false);\n  const [currentSite, setCurrentSite] = useState(site || placeholder);\n  const [spaSites, setSpaSites] = useState([site]);\n  const [contentPath] = useState(contentPathSuffix);\n\n  useEffect(() => {\n    async function getData() {\n      setSpaSites([placeholder, ...await getRemoteSite()]);\n      console.log(\"spaSites\", spaSites);\n    }\n\n    if (!fetchedSpaSites) {\n      getData();\n      setFetchedSpaSites(true);\n    }\n  }, [fetchedSpaSites, spaSites]);\n\n  const getContentPath = (site) => `/content/${site}${contentPath}`;\n  const onChangeHandler = (e) => {\n    const site = e.target.value;\n    if (site !== localStorage.getItem(\"aemGuidesWkndPwa.site\")) {\n      window.localStorage.setItem(\"aemGuidesWkndPwa.contentPath\", getContentPath(site))\n      window.localStorage.setItem(\"aemGuidesWkndPwa.site\", site)\n      setCurrentSite(site);\n      window.location.reload();\n    }\n  }\n\n  return (\n    <div className=\"content\" style={styles.container}>\n      <div>\n        <h1>Settings</h1>\n        <div style={styles.selectContainer}>\n          <strong>Site to Render</strong>\n          <select style={styles.select} value={currentSite} onChange={onChangeHandler}>\n            {spaSites.map(site => <option value={site}>{site}</option>)}\n          </select>\n        </div>\n        <dl>\n          <dt><strong>Connected Site</strong></dt>\n          <dd>/content/{currentSite}</dd>\n          <dt><strong>Root Page</strong></dt>\n          <dd>{getContentPath(currentSite)}</dd>\n        </dl>\n      </div>\n      <em style={styles.explanation}>If no content appears on the Home Screen, ensure that you have created a site using the WKND SPA Site template. The default name is WKND-App, but you can select any name and configure it here.</em>\n    </div>\n  )\n}\n\nconst styles = {\n  container: {\n    padding: \"1rem\",\n    justifyContent: \"space-between\",\n  },\n  selectContainer: {\n    margin: \"1rem 0\",\n  },\n  select: {\n    marginTop: \".5rem\",\n    padding: \".5rem\",\n    borderRadius: \"5px\",\n    backgroundColor: \"#999\",\n    fontWeight: 700,\n    display: \"block\",\n    width: \"100%\",\n  },\n  explanation: {\n    marginBottom: \"2rem\"\n  }\n}","import { Link, useLocation } from \"react-router-dom\";\nimport { TiHome } from \"react-icons/ti\";\nimport { CgMenuGridR } from \"react-icons/cg\";\nimport { BiNews } from \"react-icons/bi\";\nimport { FiSettings } from \"react-icons/fi\";\n\nimport { Theme } from \"../theme\";\n\nexport default function TabBar() {\n\n  const tabIconSize = \"2rem\";\n  const location = useLocation();\n  const isHomeSelected = location.pathname === \"/\";\n  const isAdventuresSelected = location.pathname === \"/adventures\";\n  const isMagazineSelected = location.pathname === \"/magazine\";\n  const isSettingsSelected = location.pathname === \"/settings\";\n\n  const getTabStyle = (isSelected) => ({ ...styles.tab, color: isSelected ? Theme.colors.accent : Theme.colors.text });\n\n  return (\n    <div style={styles.tabsContainer}>\n      <nav style={styles.tabs}>\n        <Link to=\"/\" style={getTabStyle(isHomeSelected)}>\n          <TiHome size={tabIconSize} />\n          <span style={styles.tabText}>Home</span>\n        </Link>\n        <Link to=\"/adventures\" style={getTabStyle(isAdventuresSelected)}>\n          <CgMenuGridR size={tabIconSize} />\n          <span style={styles.tabText}>Adventures</span>\n        </Link>\n        <Link to=\"/magazine\" style={getTabStyle(isMagazineSelected)}>\n          <BiNews size={tabIconSize} />\n          <span style={styles.tabText}>Magazine</span>\n        </Link>\n        <Link to=\"/settings\" style={getTabStyle(isSettingsSelected)}>\n          <FiSettings size={tabIconSize} />\n          <span style={styles.tabText}>Settings</span>\n        </Link>\n      </nav>\n    </div>\n  )\n}\n\nconst styles = {\n  tabsContainer: {\n    zIndex: 10,\n    backgroundColor: Theme.colors.background,\n    height: \"6rem\",\n  },\n  tabs: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(4, 1fr)\",\n    height: \"100%\",\n    listStyle: \"none\",\n    margin: 0,\n    padding: 0,\n    overflow: \"hidden\",\n  },\n  tab: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: Theme.colors.text,\n    flex: 1,\n    // padding: \"20px\",\n    textDecoration: \"none\",\n    // flexBasis: \"25%\",\n  },\n  tabText: {\n    fontFamily: \"Source Sans Pro\",\n  }\n}","import React from \"react\";\nimport { HashRouter, Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport { Theme } from \"./theme\";\nimport Adventures from \"./screens/Adventures\";\nimport AdventureDetail from \"./screens/AdventureDetail\";\nimport Index from \"./screens/Index\";\nimport Magazine from \"./screens/Magazine\";\nimport MagazineDetail from \"./screens/MagazineDetail\";\nimport Settings from \"./screens/Settings\";\nimport TabBar from \"./components/TabBar\";\nimport { contentPath } from \"./utils\";\nimport { PathUtils } from '@adobe/aem-spa-page-model-manager';\nimport './App.css';\n\nconst { REACT_APP_HOST_URI } = process.env;\n\nexport default function App() {\n\n  const transformRoute = (path) => {\n        // REACT_APP_HOST_URI = http://localhost:4502\n        // contentPath = wknd-app/en/index\n        let route = PathUtils.toAEMPath(path, REACT_APP_HOST_URI, 'wknd-app/en/index');\n        console.log('route: ' + route);\n        return route;\n  };\n  \n  const AemSpaRouter = window.top.location.pathname.startsWith('/editor.html') ? BrowserRouter : HashRouter;\n\n  return (\n    <div id=\"app-container\" style={styles.container}>\n      <AemSpaRouter>\n        <Switch>\n          <Route path={transformRoute('/adventures')}>\n            <Adventures />\n          </Route>\n          <Route path={transformRoute('/detail')}>\n            <AdventureDetail />\n          </Route>\n          <Route path={['/magazine/:id']}>\n            <MagazineDetail />\n          </Route>\n          <Route path={transformRoute('/magazine')}>\n            <Magazine />\n          </Route>          \n          <Route path={transformRoute('/settings')}>\n            <Settings />\n          </Route>\n          <Route path={transformRoute('/')}>\n            <Index />\n          </Route>  \n        </Switch>\n        <TabBar />\n      </AemSpaRouter>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    position: \"relative\",\n    backgroundColor: Theme.colors.background,\n    paddingTop: \"10px\",\n    color: Theme.colors.text,\n  },\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n//import reportWebVitals from \"./reportWebVitals\";\n\nimport { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\nimport \"./index.css\";\n\n//import { contentPath } from \"./utils\";\n//import * as serviceWorker from \"./serviceWorkerRegistration\"\nimport { RemoteSpaModelClient } from \"./utils/RemoteSpaModelClient\";\nimport { initModelManager } from \"./utils/InitModelManager\";\n\n// Initialize the ModelManager before invoking ReactDOM.render(...).\n\n//initModelManager();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n\n//serviceWorker.register();\n"],"sourceRoot":""}